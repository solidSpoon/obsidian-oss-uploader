# Obsidian 阿里云 OSS 图片上传插件

这是一个用于 [Obsidian](https://obsidian.md) 的插件，可以让你直接将图片上传到阿里云 OSS，并自动在笔记中插入图片链接。

## 功能特点

- 🖼️ 支持右键菜单上传本地图片到阿里云 OSS
- 📋 支持拦截粘贴操作，直接上传剪贴板中的图片
- 🖱️ 支持拦截拖拽操作，直接上传拖拽的图片
- 🗜️ 支持图片压缩功能，可自定义压缩参数
- 🔗 支持自定义域名
- 📁 支持自定义存储路径
- 🔄 支持上传失败自动重试
- 🔒 安全的密钥存储

## 安装方法

1. 在 Obsidian 中打开设置
2. 进入 "第三方插件" 设置页面
3. 关闭 "安全模式"
4. 点击 "浏览" 按钮，搜索 "Aliyun OSS Image Uploader"
5. 点击 "安装" 按钮
6. 启用插件

## 配置说明

在使用插件之前，你需要在阿里云 OSS 中进行以下准备工作：

1. 创建 Bucket 并获取以下信息：
   - Bucket 名称
   - Region（地域）
2. 创建 AccessKey，获取：
   - Access Key ID
   - Access Key Secret

然后在插件设置中填入以下信息：

- Access Key ID：阿里云账号的 Access Key ID
- Access Key Secret：阿里云账号的 Access Key Secret
- Bucket：OSS Bucket 名称
- Region：OSS Region（地域），例如：oss-cn-hangzhou
- 自定义域名（可选）：如果配置了 OSS 自定义域名，可以在此处输入
- 存储路径：文件在 OSS 中的存储路径前缀，默认为 obsidian/
- 启用压缩：是否启用图片压缩
- 最大压缩尺寸：图片压缩的最大尺寸（像素）
- 压缩后最大文件大小：压缩后的最大文件大小（MB）
- 拦截粘贴和拖拽：启用后，粘贴或拖拽图片时将直接上传到阿里云 OSS

## 使用方法

### 通过右键菜单上传

1. 在 Obsidian 中右键点击本地图片文件
2. 选择 "上传到阿里云 OSS" 选项
3. 等待上传完成，插件会自动替换图片链接

### 通过粘贴上传

1. 在插件设置中启用 "拦截粘贴和拖拽" 选项
2. 复制任意图片到剪贴板
3. 在 Obsidian 编辑器中粘贴
4. 图片会自动上传到阿里云 OSS，并插入图片链接

### 通过拖拽上传

1. 在插件设置中启用 "拦截粘贴和拖拽" 选项
2. 将图片文件拖拽到 Obsidian 编辑器中
3. 图片会自动上传到阿里云 OSS，并插入图片链接

## 注意事项

- 请妥善保管你的 Access Key，不要泄露给他人
- 如果使用自定义域名，请确保已正确配置 CNAME 记录
- 建议定期检查 OSS 使用量，避免产生意外费用

## 问题反馈

如果你在使用过程中遇到任何问题，或有任何建议，欢迎在 GitHub 仓库中提出 Issue。

## 许可证

本项目使用 OBSD 许可证。
